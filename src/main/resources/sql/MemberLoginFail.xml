<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- src/main/resources/mapper/memberMapper.xml -->
<mapper namespace="org.example.mapper.member.MemberMapper">


    <select id="selectMemberLoginFailCnt" resultType="MemberLoginFailResp">
        SELECT
            b.*
             ,IFNULL(MAX(fail.try_count) + 1, 1) as fail_cnt
        FROM
            member_login_fail a
        LEFT JOIN
            member b on a.member_uid = b.member_uid
        WHERE
            b.email = #{email}

    </select>


</mapper>

