<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
</head>
<body>

<div class="container" style="max-width: 600px">
    <div class="py-5 text-center">
        <h2>홈 화면</h2>
    </div>

    <div class="row" style="display: flex;">
        <div class="col">
            <button class="w-100 btn btn-secondary btn-lg" name="payment" value="paymnet" type="button" onclick="payment()">
                결제 하기
            </button>
        </div>
        <div class="col">
            <button class="w-100 btn btn-dark btn-lg" onclick="game()" type="button">
                게임 하기
            </button>
        </div>
        <div class="col">
            <button class="w-100 btn btn-dark btn-lg" name="logout" value="logout" onclick="logout()" type="button">
                로그아웃
            </button>
        </div>
    </div>

    <hr class="my-4">

</div>

</body>
</html>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://kit.fontawesome.com/79613ae794.js" crossorigin="anonymous"></script>
<script>
    function logout() {
<<<<<<< Updated upstream
        fetch('/auth/logout', {
            method: 'post'
=======
<<<<<<< Updated upstream
        fetch('/member/logout', {
            method: 'GET'
>>>>>>> Stashed changes
        }).then(response => {
            if (response.status === 200) {
                deleteCookie('JWT_TOKEN'); // 설정 토큰 이름 삭제

                window.location.href = '/auth/login';
            } else {
                alert('로그아웃에 실패했습니다.');
            }
<<<<<<< Updated upstream
        })
            .catch(error => {
                console.error('로그아웃 에러:', error);
            });
=======
        });
=======

        const token = getCookie('accessToken'); // 토큰 이름에 맞게 수정하세요

        axios.post('/auth/logout', {}, {
            headers: {
                'Authorization': `Bearer ${token}`
            }
        })
            .then(function (response) {
                deleteCookie("accessToken");
                console.log("로그아웃 완료");

                location.href="/member/login";
            })
            .catch(function (error) {
                alert('로그아웃에 실패했습니다.');
                return false;
            });
>>>>>>> Stashed changes
    }

    //쿠키삭제
    function deleteCookie(name) {
        document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    }

    //쿠키가져오기
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
>>>>>>> Stashed changes
    }

</script>
</body>
</html>
